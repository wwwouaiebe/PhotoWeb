(function(){"use strict";const e=-1;const t=0;const i=1;const s=2;const n=1e3;class o{static get backward(){return e}static get noChange(){return t}static get forward(){return i}constructor(){Object.freeze(this)}}class r{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){switch(e.key){case"S":case"s":this.#e.stop();break;case"+":this.#e.increaseDuration();break;case"-":this.#e.decreaseDuration();break;case"P":case"p":this.#e.pause();break;case"ArrowRight":this.#e.showNextArticle(o.forward);break;case"ArrowLeft":this.#e.showNextArticle(o.backward);break}}}class a{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseEnterHelpButton(e)}}class l{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseLeaveHelpButton(e)}}class h{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseclickHelpButton(e)}}class c{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.stop(e)}}class d{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.decreaseDuration(e)}}class u{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.increaseDuration(e)}}class m{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.pause(e)}}class E{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseEnterOrMoveArticle(e)}}class L{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseLeaveArticle(e)}}class w{#e;constructor(e){this.#e=e;Object.freeze(this)}handleEvent(e){this.#e.onMouseClickArticle(e)}}class p{#t;#i;#s;#n;#o;#r;#a;#l;#h;#c;#d;#u;#m;#E;#L;#w;static get#p(){return 3e4}static get#g(){return 1e3}static get#S(){return 2e3}static get#T(){return 1e4}static get#v(){return e}get#y(){return String(this.#u/n)+" sec."}#M(){let e=document.createElement("div");this.#o.appendChild(e);this.#s=document.createElement("span");this.#s.innerText="âž–";this.#s.title=this.#y;this.#s.addEventListener("click",new d(this));e.appendChild(this.#s);this.#i=document.createElement("span");this.#i.innerText="âž•";this.#i.title=this.#y;this.#i.addEventListener("click",new u(this));e.appendChild(this.#i);this.#n=document.createElement("span");this.#n.innerText="â¸ï¸";this.#n.addEventListener("click",new m(this));e.appendChild(this.#n);const t=document.createElement("span");t.innerText="â” ";t.addEventListener("mouseenter",new a(this));t.addEventListener("mouseleave",new l(this));t.addEventListener("click",new h(this));e.appendChild(t);const i=document.createElement("span");i.innerText="âŒ";i.addEventListener("click",new c(this));e.appendChild(i);this.#a=document.createElement("div");this.#a.innerText="Touche clavier â®ž ou clic sur photo Ã  droite :\n passer Ã  la photo suivante"+"\n\nTouche clavier â®œ ou clic sur photo Ã  gauche :\n passer Ã  la photo prÃ©cÃ©dente"+"\n\nTouche clavier - ou bouton âž– :\n diminuer le temps de vision"+"\n\nTouche clavier + ou bonton âž•:\n augmenter le temps de vision"+"\n\nTouches clavier P ou p ou boutons â¸ï¸ â–¶ï¸ :\n arrÃªter ou relancer le diaporama"+"\n\nTouches clavier S ou s ou bouton âŒ :\n fermer le diaporama";this.#a.classList.add("cyHelpDiv");this.#a.classList.add("cyHelpDivHidden");e.appendChild(this.#a)}#I(){this.#r=document.createElement("article");this.#r.addEventListener("mouseenter",new E(this));this.#r.addEventListener("mousemove",new E(this));this.#r.addEventListener("mouseleave",new L(this));this.#r.addEventListener("click",new w(this));this.#o.appendChild(this.#r);let e=document.createElement("figure");this.#r.appendChild(e);this.#l=document.createElement("img");e.appendChild(this.#l);let t=document.createElement("figcaption");e.appendChild(t);this.#h=document.createElement("p");t.appendChild(this.#h);let i=document.createElement("p");i.className="cyPictureInfo";t.appendChild(i);let s=document.createElement("span");s.innerText="ðŸ“·";i.appendChild(s);this.#c=document.createElement("span");i.appendChild(this.#c)}#f(){this.#o=document.createElement("div");this.#M();this.#I()}constructor(){Object.freeze(this);this.#d=new r(this);this.#u=p.#T;this.#m=false;this.#E=null;this.#L=o.forward;this.#w=p.#v;if(!document.getElementById("cySlideShowData")){return}try{this.#t=JSON.parse(document.getElementById("cySlideShowData").text)}catch(e){console.error(e);return}this.#t.pop();if(t===this.#t.length){return}let e=document.querySelector("#cyPaginationSlideShow > a");if(e){e.textContent="Diaporama slideshow";e.title="Lancer le diaporama"}this.#f()}increaseDuration(){this.#u=p.#p===this.#u?p.#p:this.#u+p.#g;this.#i.title=this.#y;this.#s.title=this.#y}decreaseDuration(){this.#u=p.#S===this.#u?p.#S:this.#u-p.#g;this.#i.title=this.#y;this.#s.title=this.#y}onMouseEnterHelpButton(e){this.#a.style.right=document.documentElement.clientWidth-e.clientX+"px";this.#a.classList.remove("cyHelpDivHidden")}onMouseLeaveHelpButton(){this.#a.classList.add("cyHelpDivHidden")}onMouseclickHelpButton(){this.#a.classList.toggle("cyHelpDivHidden")}onMouseEnterOrMoveArticle(e){let t=this.#r.getBoundingClientRect();if(t.width/s>e.clientX-t.x){this.#r.classList.remove("cyCursorRight");this.#r.classList.add("cyCursorLeft")}else{this.#r.classList.remove("cyCursorLeft");this.#r.classList.add("cyCursorRight")}}onMouseLeaveArticle(){this.#r.classList.remove("cyCursorRight");this.#r.classList.remove("cyCursorLeft")}onMouseClickArticle(e){let t=this.#r.getBoundingClientRect();this.showNextArticle(t.width/s>e.clientX-t.x?o.backward:o.forward)}#H(e){return new Promise((t,i)=>{this.#l.onload=()=>t();this.#l.onerror=i;this.#l.src=e})}async showNextArticle(e){if(this.#E){window.clearTimeout(this.#E);this.#E=null}this.#L=o.noChange===e?this.#L:e;this.#w+=this.#L;if(p.#v===this.#w){this.stop();return}if(this.#w===this.#t.length){this.stop();return}const t=this.#t[this.#w];let i=t.cat+", "+t.date;this.#r.classList.add("cyHelpDivHidden");await this.#H(t.src);this.#l.title=i;this.#l.alt=i;this.#l.className=t.class;this.#r.classList.remove("cyHelpDivHidden");this.#h.innerText=i;let s=t.exif;this.#c.innerText=s?s:"";if(!this.#m){this.#E=setTimeout(()=>this.showNextArticle(o.noChange),this.#u)}}async start(){await document.body.requestFullscreen();document.addEventListener("keydown",this.#d,true);document.body.classList.add("slideShow");document.body.appendChild(this.#o);this.showNextArticle(o.forward)}pause(){if(this.#E){window.clearTimeout(this.#E);this.#E=null;this.#m=true;this.#n.innerText="â–¶ï¸"}else{this.#m=false;this.showNextArticle(o.noChange);this.#n.innerText="â¸ï¸"}}async stop(){if(this.#E){window.clearTimeout(this.#E);this.#E=null}document.removeEventListener("keydown",this.#d,true);document.body.classList.remove("slideShow");document.body.removeChild(this.#o);this.#m=false;this.#L=o.forward;this.#w=p.#v;if(document.fullscreenElement){await document.exitFullscreen()}}}const g=new p;let S=document.querySelector("#cyPaginationSlideShow");if(S){S.addEventListener("click",()=>{g.start()})}const T=3*5;const v=8**2;const y=1;const M=0;class I{constructor(){Object.freeze(this)}onMailContinueButtonFRClick(){if(v+T===Number.parseInt(document.getElementById("cyNumberFR").value)){let e=document.querySelector("#cyMailContinueButtonFR").getAttribute("name")+String.fromCharCode(Number.parseInt(document.getElementById("cyNumberFR").value)-T)+window.location.hostname.split(".").reverse()[y]+"."+window.location.hostname.split(".").reverse()[M];{let t=document.createElement("a");t.href="mailto:"+e+"?subject=Message depuis "+window.location.hostname;t.click()}if(navigator.clipboard){navigator.clipboard.writeText(e).then(()=>{document.getElementById("cyClipboardFR").innerHTML="L'adresse mail a Ã©galement Ã©tÃ© passÃ©e dans le presse-papier de votre ordinateur."}).catch(()=>console.error("failed to copy to the clipboard"))}document.getElementById("cyMailFR").innerHTML="Bravo! Vous Ãªtes douÃ©. Patientez un instant, votre mail va s'ouvrir... "+"si tout est bien configurÃ© sur votre appareil."}else{document.getElementById("cyMailFR").innerHTML="Oufti biesse. Null en math."}document.getElementById("cyMailContinueButtonFR").style.visibility="hidden";document.getElementById("cyMailContinueButtonEN").style.visibility="hidden"}onMailContinueButtonENClick(){if(v+T===Number.parseInt(document.getElementById("cyNumberEN").value)){let e=document.querySelector("#cyMailContinueButtonEN").getAttribute("name")+String.fromCharCode(Number.parseInt(document.getElementById("cyNumberEN").value)-T)+window.location.hostname.split(".").reverse()[y]+"."+window.location.hostname.split(".").reverse()[M];{let t=document.createElement("a");t.href="mailto:"+e+"?subject=Message from "+window.location.hostname;t.click()}if(navigator.clipboard){navigator.clipboard.writeText(e).then(()=>{document.getElementById("cyClipboardEN").innerHTML="The email address has also been passed to your computer's clipboard."}).catch(()=>console.error("failed to copy to the clipboard"))}document.getElementById("cyMailEN").innerHTML="Excellent! You are very good. Wait a moment, your email will open..."+" if everything is configured correctly on your device."}else{document.getElementById("cyMailEN").innerHTML="You are stupid."}document.getElementById("cyMailContinueButtonFR").style.visibility="hidden";document.getElementById("cyMailContinueButtonEN").style.visibility="hidden"}}const f=new I;const H=document.querySelector("#cyMailContinueButtonFR");if(H){H.addEventListener("click",()=>f.onMailContinueButtonFRClick())}let b=document.querySelector("#cyMailContinueButtonEN");if(b){b.addEventListener("click",()=>f.onMailContinueButtonENClick())}class k{#b;constructor(e){Object.freeze(this);this.#b=e}handleEvent(){this.#b.toggle(true)}}class C{#b;constructor(e){Object.freeze(this);this.#b=e}handleEvent(){this.#b.onPreferedThemeChange()}}class D{#b;constructor(e){Object.freeze(this);this.#b=e}handleEvent(){this.#b.onStorageChange()}}class B{#k;#C;#D;#B(e){try{const t=window[e];const i="__storage_test__";t.setItem(i,i);t.removeItem(i);return true}catch(e){return false}}#N(){this.#k=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";if(this.#D){this.#k=localStorage.getItem("preferedTheme")||this.#k}document.body.classList.remove("cyDark");document.body.classList.remove("cyLight");document.body.classList.add("dark"===this.#k?"cyDark":"cyLight");if("dark"===this.#k){this.#A()}else{this.#x()}}#A(){this.#C.innerText="â˜¼";this.#C.title="Apparence: clair";this.#C.alt="Apparence: clair"}#x(){this.#C.innerText="â˜½";this.#C.title="Apparence: sombre";this.#C.alt="Apparence: sombre"}constructor(){Object.freeze(this);window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",new C(this));window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",new C(this));this.#D=this.#B("localStorage");if(this.#D){window.addEventListener("storage",new D(this))}this.#C=document.getElementById("cyDarkLight");if(this.#C){this.#C.addEventListener("click",new k(this))}this.#N()}onPreferedThemeChange(){if(this.#D){localStorage.removeItem("preferedTheme")}this.#N()}onStorageChange(){const e=localStorage.getItem("preferedTheme");if(e&&e!==this.#k){this.toggle(false)}}toggle(e){if("dark"===this.#k){this.#k="light";document.body.classList.remove("cyDark");document.body.classList.add("cyLight");this.#x()}else{this.#k="dark";document.body.classList.remove("cyLight");document.body.classList.add("cyDark");this.#A()}if(this.#D&&e){localStorage.setItem("preferedTheme",this.#k)}}}new B})();